# –°—á–∏—Ç–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É.
# –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã.
# –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç—É.
# –û–±—â–∞—è —á–∞—Å—Ç—å:
# –ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ —á–∞—Å—Ç–æ—Ç—É –≤—Å–µ—Ö —Å–ª–æ–≤, –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è –≤ —Ç–µ–∫—Å—Ç–µ.
# –í —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º —Ñ–∞–π–ª–µ –≤—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –∏—Ö —á–∞—Å—Ç–æ—Ç—ã:
# –í–∞—Ä–∏–∞–Ω—Ç 7
# –ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ –∫–∞–∂–¥–æ–º –∞–±–∑–∞—Ü–µ.

# –Ø —Å–ª–∏—à–∫–æ–º –≥–ª—É–ø –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–æ–∫, –ø–æ—ç—Ç–æ–º—É —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥, —Ç–æ–ª—å–∫–æ —Ö–∞—Ä–¥–∫–æ—Ä
delims = set(',. \'"?!\n\t\r')
# –ü–æ–¥—Å—á—ë—Ç —á–∞—Å—Ç–æ—Ç—ã —Å–ª–æ–≤
text, freq, buf = open('first_task.txt','r').read(), {}, ''
for ch in text:
    if ch in delims:
        if buf == '': continue
        if buf not in freq: freq[buf] = 0
        freq[buf] += 1
        buf = ''
    else:
        buf += ch
# Generator Hell ü§ò
open('first_task_result.txt','w').writelines([f'{x}:{freq[x]}\n' for x in dict(sorted(freq.items(), key=lambda item: item[1], reverse=True))])

# –ü–æ–¥—Å—á—ë—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ –∞–±–∑–∞—Ü–∞—Ö
indexes = [i for i,elem in enumerate(text) if elem == '\n']
delims = set('.?!')
# Generator Hell ü§ò
res = [sum(1 for ch in text[left:right] if ch in delims) for right, left in zip(indexes, [0] + indexes)]
# Generator Hell ü§ò
open('first_task_result2.txt','w').writelines([f'{i}:{res[i]}\n' for i in range(len(indexes))])